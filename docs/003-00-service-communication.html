<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-07-27T21:24:57.14736"><title>Module 3 : La Grande Conversation - Communication Inter-services | Spring Micro Services</title><script type="application/json" id="virtual-toc-data">[{"id":"objectifs-p-dagogiques","level":0,"title":"Objectifs Pédagogiques","anchor":"#objectifs-p-dagogiques"},{"id":"introduction-comment-faire-parler-nos-services","level":0,"title":"Introduction : Comment faire parler nos services ?","anchor":"#introduction-comment-faire-parler-nos-services"},{"id":"la-communication-synchrone-l-appel-http-rest","level":0,"title":"La communication synchrone : L\u0027appel HTTP/REST","anchor":"#la-communication-synchrone-l-appel-http-rest"},{"id":"le-probl-me-des-urls-en-dur","level":0,"title":"Le Problème des URLs en Dur","anchor":"#le-probl-me-des-urls-en-dur"},{"id":"les-clients-http-en-spring","level":0,"title":"Les clients HTTP en Spring","anchor":"#les-clients-http-en-spring"},{"id":"focus-sur-openfeign-la-magie-d-clarative","level":0,"title":"Focus sur OpenFeign : La magie déclarative","anchor":"#focus-sur-openfeign-la-magie-d-clarative"},{"id":"conclusion-de-la-partie","level":0,"title":"Conclusion de la partie","anchor":"#conclusion-de-la-partie"},{"id":"auto-valuation","level":0,"title":"Auto-évaluation","anchor":"#auto-valuation"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Module 3 : La Grande Conversation - Communication Inter-services | Spring Micro Services"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Spring Micro Services Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/003-00-service-communication.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Module 3 : La Grande Conversation - Communication Inter-services | Spring Micro Services"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/003-00-service-communication.html#webpage",
    "url": "writerside-documentation/003-00-service-communication.html",
    "name": "Module 3 : La Grande Conversation - Communication Inter-services | Spring Micro Services",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Spring Micro Services Help"
}</script><!-- End Schema.org --></head><body data-id="003-00-service-communication" data-main-title="Module 3 : La Grande Conversation - Communication Inter-services" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs=""><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Spring Micro Services  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="003-00-service-communication" id="003-00-service-communication.md">Module 3 : La Grande Conversation - Communication Inter-services</h1><section class="chapter"><h2 id="objectifs-p-dagogiques" data-toc="objectifs-p-dagogiques">Objectifs P&eacute;dagogiques</h2><p id="myyc8a_11">&Agrave; la fin de cette partie, vous serez capable de :</p><ul class="list _bullet" id="myyc8a_12"><li class="list__item" id="myyc8a_13"><p id="myyc8a_18">Distinguer les modes de communication synchrone et asynchrone.</p></li><li class="list__item" id="myyc8a_14"><p id="myyc8a_19">Expliquer pourquoi l'utilisation d'URL en dur est une mauvaise pratique.</p></li><li class="list__item" id="myyc8a_15"><p id="myyc8a_20">D&eacute;crire le r&ocirc;le d'un client HTTP pour la communication synchrone.</p></li><li class="list__item" id="myyc8a_16"><p id="myyc8a_21">Expliquer les avantages d'OpenFeign par rapport &agrave; des clients comme <code class="code" id="myyc8a_22">RestTemplate</code>.</p></li><li class="list__item" id="myyc8a_17"><p id="myyc8a_23">Comprendre le principe d'un client REST d&eacute;claratif.</p></li></ul></section><section class="chapter"><h2 id="introduction-comment-faire-parler-nos-services" data-toc="introduction-comment-faire-parler-nos-services">Introduction : Comment faire parler nos services ?</h2><p id="myyc8a_24">Notre <code class="code" id="myyc8a_28">product-service</code> est maintenant seul dans son conteneur Docker. Il est temps de lui donner un ami : le <code class="code" id="myyc8a_29">order-service</code>. Comme nous l'avons vu, <code class="code" id="myyc8a_30">order-service</code> aura besoin de demander des informations &agrave; <code class="code" id="myyc8a_31">product-service</code>. Par exemple, &quot;Pour cr&eacute;er une commande pour le livre avec l'ID 5, j'ai besoin de conna&icirc;tre son prix.&quot;</p><p id="myyc8a_25">Mais comment organiser cette conversation ? Imaginez que nos services sont deux personnes dans des pi&egrave;ces s&eacute;par&eacute;es.</p><ul class="list _bullet" id="myyc8a_26"><li class="list__item" id="myyc8a_32"><p id="myyc8a_34"><span class="control" id="myyc8a_35">Approche Synchrone (le t&eacute;l&eacute;phone) :</span> Le service A (Commande) appelle le service B (Produit) et attend activement une r&eacute;ponse. Il est bloqu&eacute; jusqu'&agrave; ce que le service B d&eacute;croche, r&eacute;ponde et raccroche. C'est direct, simple &agrave; comprendre, mais si B ne r&eacute;pond pas, A reste bloqu&eacute;.</p></li><li class="list__item" id="myyc8a_33"><p id="myyc8a_36"><span class="control" id="myyc8a_37">Approche Asynchrone (le courrier postal) :</span> Le service A (Commande) envoie une lettre (un message) dans une bo&icirc;te aux lettres. Il ne s'attend pas &agrave; une r&eacute;ponse imm&eacute;diate et peut continuer ses autres t&acirc;ches. Le service B (un autre service de notification, par exemple) viendra plus tard relever le courrier et le traiter. C'est plus r&eacute;silient et d&eacute;coupl&eacute;, mais plus complexe &agrave; suivre.</p></li></ul><p id="myyc8a_27">Aujourd'hui, nous allons nous concentrer sur la communication <span class="control" id="myyc8a_38">synchrone</span>, qui est la plus courante pour des requ&ecirc;tes de type &quot;lecture&quot; ou &quot;validation&quot;. Et nous allons voir comment le faire de mani&egrave;re &eacute;l&eacute;gante et maintenable.</p></section><section class="chapter"><h2 id="la-communication-synchrone-l-appel-http-rest" data-toc="la-communication-synchrone-l-appel-http-rest">La communication synchrone : L'appel HTTP/REST</h2><p id="myyc8a_39">Le moyen le plus simple et le plus r&eacute;pandu pour que deux services communiquent de mani&egrave;re synchrone est d'utiliser le protocole que vous connaissez d&eacute;j&agrave; tr&egrave;s bien : HTTP. Le service appelant agit comme un client, et le service appel&eacute; comme un serveur.</p><style>.theme-dark .plantuml > svg {filter: hue-rotate(180deg) invert(0.9);}div.plantuml {overflow-x: auto;}</style><div class="plantuml"><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="313px" preserveAspectRatio="none" style="width:667px;height:313px;background:#FFFFFF;" version="1.1" viewBox="0 0 667 313" width="667px" zoomAndPan="magnify"><defs/><g><!--cluster OrderSvc--><g id="cluster_OrderSvc"><rect fill="#FFFFFF" height="115.01" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="190" x="12" y="192.02"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="105" x="54.5" y="208.0952">order-service</text></g><!--cluster ProductSvc--><g id="cluster_ProductSvc"><rect fill="#FFFFFF" height="115.02" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="230" x="79" y="12"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="123" x="132.5" y="28.0752">product-service</text></g><!--entity Order Logic--><g id="elem_Order Logic"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="121" x="36.5" y="236.02"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1.0;" width="15" x="137.5" y="241.02"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="135.5" y="243.02"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="135.5" y="247.02"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="81" x="51.5" y="270.0952">Order Logic</text></g><!--entity ProductController--><g id="elem_ProductController"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="162" x="103" y="56"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1.0;" width="15" x="245" y="61"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="243" y="63"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="243" y="67"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="122" x="118" y="90.0752">ProductController</text></g><g id="elem_GMN10"><path d="M230.5,238.72 L230.5,280.3186 L499.5,280.3186 L499.5,248.72 L489.5,238.72 L230.5,238.72 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><path d="M489.5,238.72 L489.5,248.72 L499.5,248.72 L489.5,238.72 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="248" x="236.5" y="256.7898">Le `order-service` attend la r&#233;ponse</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="233" x="236.5" y="272.5891">avant de continuer son traitement.</text></g><!--reverse link ProductSvc to OrderSvc--><g id="link_ProductSvc_OrderSvc"><path d="M314.6979,85.2419 C315.2477,85.4373 310.9701,83.9296 311.5618,84.1427 C312.7454,84.5688 314.0105,85.0299 315.3478,85.5244 C318.0223,86.5136 320.9856,87.6368 324.1625,88.8833 C336.87,93.8691 352.995,100.8256 367.73,109.0512 C397.2,125.5025 421.11,147.03 401,168.02 C386.53,183.11 229.08,162.65 213,176.02 C209.4963,178.9325 206.5625,182.3494 204.1121,186.1058 C202.8869,187.984 201.7825,189.947 200.7881,191.9744 " fill="none" id="ProductSvc-backto-OrderSvc" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="309.0405,83.2434,316.1943,90.0127,313.755,84.9088,318.8589,82.4695,309.0405,83.2434" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="250" x="409.42" y="165.0898">1. Requ&#234;te HTTP GET /api/products/5</text></g><!--reverse link OrderSvc to ProductSvc--><g id="link_OrderSvc_ProductSvc"><path d="M184.2716,186.3287 C184.1446,186.0764 186.4867,190.8241 186.3562,190.5738 C186.0953,190.0734 185.8274,189.5772 185.5524,189.0855 C185.0025,188.1022 184.424,187.1371 183.8157,186.1927 C181.3827,182.4153 178.4725,178.97 175,176.02 C153.79,157.99 69.04,188.32 50,168.02 C44.83,162.5 44.75,156.45 50,151.02 C67.92,132.47 261.55,158.73 282,143.02 C284.7888,140.8775 287.1808,138.3372 289.2313,135.5268 C290.2565,134.1217 291.1964,132.649 292.0577,131.1248 C292.4884,130.3626 292.8995,129.5876 293.2918,128.8018 C293.4879,128.4088 293.6794,128.0132 293.8663,127.615 C293.913,127.5155 293.9594,127.4158 294.0056,127.316 " fill="none" id="OrderSvc-backto-ProductSvc" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="186.9316,191.7068,186.527,181.8663,184.7149,187.2251,179.3561,185.413,186.9316,191.7068" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="344" x="51" y="165.0898">2. R&#233;ponse HTTP 200 OK (avec le JSON du produit)</text></g><!--link OrderSvc to GMN10--><g id="link_OrderSvc_GMN10"><path d="M202.0373,259.52 C202.0836,259.52 202.13,259.52 202.1763,259.52 C202.269,259.52 202.3617,259.52 202.4544,259.52 C202.8251,259.52 203.1958,259.52 203.5666,259.52 C206.5325,259.52 209.4987,259.52 212.465,259.52 C218.3975,259.52 224.33,259.52 230.26,259.52 " fill="none" id="OrderSvc-GMN10" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--SRC=[LP71JiCm44Jl_egX9pYaAPMuzC058H1KjAAv8QHQpf9QEElWR28Xn0V1R_J7S4CK9RxjoFF6EpwJ0vM4ocdBgdwtNEcWInXVLfw9PIUVZj2KRgbK82EQYpZFVCWf93M5rXgQGTVOd9HTQ_2b4CzBDsFj2sjUrVV4N0MVDqOczks_DWBqoerd2Tuv2XrcY4cQv7hiMk5oZcVwQ8w_GhZFiYtkRZEakh9f7rYdLqgDB8cBY06umZ82ZZznxxe7B1SBR1vnhbioY2z_s6sUa3VeU5Okb68Vmu8j3WB_Dh3Y0cl2VbBI7bg4E8VJ27rAlATRpOASOkCibflOMUqP4hIL-34iStKodNB-0000]--></g></svg></div></section><section class="chapter"><h2 id="le-probl-me-des-urls-en-dur" data-toc="le-probl-me-des-urls-en-dur">Le Probl&egrave;me des URLs en Dur</h2><p id="myyc8a_41">Imaginons que nous d&eacute;veloppons la logique de <code class="code" id="myyc8a_47">order-service</code>. Pour appeler <code class="code" id="myyc8a_48">product-service</code>, la premi&egrave;re id&eacute;e serait d'&eacute;crire du code qui ressemble &agrave; &ccedil;a :</p><div class="code-block" data-lang="java">
// Ceci est un PSEUDO-CODE pour illustrer le problème.
// NE PAS UTILISER EN PRATIQUE !
String productUrl = &quot;http://localhost:8081/api/products/5&quot;;
// ... code pour faire un appel HTTP à cette URL ...
</div><p id="myyc8a_43"><span class="control" id="myyc8a_49">Pourquoi est-ce une tr&egrave;s mauvaise id&eacute;e ?</span></p><ol class="list _decimal" id="myyc8a_44" type="1"><li class="list__item" id="myyc8a_50"><p id="myyc8a_53"><span class="control" id="myyc8a_54">Manque de flexibilit&eacute; :</span> <code class="code" id="myyc8a_55">localhost</code> ne fonctionne qu'en d&eacute;veloppement local. En production, l'adresse IP du <code class="code" id="myyc8a_56">product-service</code> sera diff&eacute;rente et probablement dynamique.</p></li><li class="list__item" id="myyc8a_51"><p id="myyc8a_57"><span class="control" id="myyc8a_58">Difficult&eacute; de mise &agrave; l'&eacute;chelle :</span> Et si nous avons 3 instances du <code class="code" id="myyc8a_59">product-service</code> pour g&eacute;rer la charge ? Vers laquelle des trois adresses IP faut-il faire l'appel ? Comment r&eacute;partir la charge ?</p></li><li class="list__item" id="myyc8a_52"><p id="myyc8a_60"><span class="control" id="myyc8a_61">Cauchemar de configuration :</span> On pourrait mettre l'URL dans un fichier de configuration, mais on se retrouverait &agrave; g&eacute;rer une liste d'URLs pour chaque service que l'on veut appeler. C'est lourd et source d'erreurs.</p></li></ol><aside class="prompt" data-type="tip" data-title="" id="myyc8a_45"><p id="myyc8a_62"><span class="control" id="myyc8a_63">Le probl&egrave;me fondamental :</span> Le <code class="code" id="myyc8a_64">order-service</code> ne devrait pas avoir &agrave; conna&icirc;tre l'emplacement physique (<code class="code" id="myyc8a_65">IP:port</code>) du <code class="code" id="myyc8a_66">product-service</code>. Il devrait pouvoir dire : &quot;Je veux parler au service qui s'appelle <code class="code" id="myyc8a_67">product-service</code>, peu importe o&ugrave; il se trouve.&quot; C'est le probl&egrave;me que nous r&eacute;soudrons avec la <span class="control" id="myyc8a_68">d&eacute;couverte de services (Service Discovery)</span> dans le prochain module.</p></aside><p id="myyc8a_46">En attendant, concentrons-nous sur la mani&egrave;re de <span class="emphasis" id="myyc8a_69">r&eacute;aliser</span> l'appel HTTP c&ocirc;t&eacute; client.</p></section><section class="chapter"><h2 id="les-clients-http-en-spring" data-toc="les-clients-http-en-spring">Les clients HTTP en Spring</h2><p id="myyc8a_70">Pour faire un appel HTTP depuis une application Spring, plusieurs outils existent.</p><div class="tabs" id="myyc8a_71" data-anchors="[myyc8a_72,myyc8a_73,myyc8a_74]"><div class="tabs__content" data-gtm="tab" id="myyc8a_72" data-title="RestTemplate (l'ancienne approche)"><p>Pendant des ann&eacute;es, <code class="code" id="myyc8a_75">RestTemplate</code> a &eacute;t&eacute; l'outil standard de Spring pour faire des appels REST synchrones. </p><p id="myyc8a_76"><b id="myyc8a_81">Exemple de code :</b></p><div class="code-block" data-lang="java" data-title="Java">
// Dans un service de 'order-service'
RestTemplate restTemplate = new RestTemplate();
String productServiceUrl = &quot;http://localhost:8081/api/products/&quot;;

// Appel pour récupérer un produit spécifique
ResponseEntity&lt;ProductDTO&gt; response =
restTemplate.getForEntity(productServiceUrl + productId, ProductDTO.class);

ProductDTO product = response.getBody();

</div><p id="myyc8a_78"><code class="code" id="myyc8a_82">ProductDTO</code> est une classe dans <code class="code" id="myyc8a_83">order-service</code> qui doit avoir la m&ecirc;me structure que le JSON renvoy&eacute; par <code class="code" id="myyc8a_84">product-service</code>.</p><p> <b id="myyc8a_79">Inconv&eacute;nients :</b></p><ul class="list _bullet" id="myyc8a_80"><li class="list__item" id="myyc8a_85"><p>API un peu verbeuse.</p></li><li class="list__item" id="myyc8a_86"><p>Cr&eacute;&eacute; avant l'&egrave;re de la programmation r&eacute;active, il est bloquant par nature.</p></li><li class="list__item" id="myyc8a_87"><p>Il est maintenant en <b id="myyc8a_88">mode maintenance</b> par l'&eacute;quipe Spring, qui recommande d'utiliser <code class="code" id="myyc8a_89">WebClient</code>.</p></li></ul></div><div class="tabs__content" data-gtm="tab" id="myyc8a_73" data-title="WebClient (l'approche r&eacute;active moderne)"><p><code class="code" id="myyc8a_90">WebClient</code> est le client HTTP moderne, non-bloquant et r&eacute;actif, issu de Spring WebFlux. Il peut &ecirc;tre utilis&eacute; de mani&egrave;re synchrone (bloquante) ou asynchrone. </p><p id="myyc8a_91"><b id="myyc8a_95">Exemple de code :</b></p><div class="code-block" data-lang="java" data-title="Java">
// Dans un service de 'order-service'
WebClient webClient = WebClient.builder()
                        .baseUrl(&quot;http://localhost:8081/api/products&quot;)
                        .build();

// Appel pour récupérer un produit spécifique (mode synchrone)
ProductDTO product = webClient.get()
                            .uri(&quot;/{id}&quot;, productId)
                            .retrieve()
                            .bodyToMono(ProductDTO.class)
                            .block(); // .block() rend l'appel synchrone
</div><p id="myyc8a_93"><b id="myyc8a_96">Avantages :</b></p><ul class="list _bullet" id="myyc8a_94"><li class="list__item" id="myyc8a_97"><p>API &quot;fluent&quot; (cha&icirc;nage de m&eacute;thodes), plus lisible.</p></li><li class="list__item" id="myyc8a_98"><p>Non-bloquant par d&eacute;faut, excellent pour la performance.</p></li><li class="list__item" id="myyc8a_99"><p>C'est l'outil recommand&eacute; par Spring pour les nouveaux projets.</p></li></ul></div><div class="tabs__content" data-gtm="tab" id="myyc8a_74" data-title="OpenFeign (l'approche d&eacute;clarative)"><p>Et si on n'avait m&ecirc;me pas &agrave; &eacute;crire le code de l'appel HTTP ? C'est la promesse d'OpenFeign. C'est un projet de Spring Cloud qui transforme une interface Java en un client REST complet. </p><p id="myyc8a_100"><b id="myyc8a_104">Principe :</b> Vous &eacute;crivez une interface Java et vous l'annotez. Spring Cloud se charge de g&eacute;n&eacute;rer une impl&eacute;mentation qui fait les appels HTTP pour vous. C'est simple, lisible et puissant.</p><p id="myyc8a_101"><b id="myyc8a_105">Exemple de code :</b></p><div class="code-block" data-lang="java" data-title="Java">
// 1. Définir une interface dans 'order-service'
@FeignClient(name = &quot;product-service&quot;, url = &quot;http://localhost:8081&quot;)
public interface ProductServiceClient {

    @GetMapping(&quot;/api/products/{id}&quot;)
    ProductDTO findProductById(@PathVariable(&quot;id&quot;) Long id);

}

// 2. Utiliser l'interface dans un service
@Service
public class OrderManagementService {

    private final ProductServiceClient productServiceClient;

    // Spring injecte automatiquement une implémentation de l'interface
    public OrderManagementService(ProductServiceClient productServiceClient) {
        this.productServiceClient = productServiceClient;
    }

    public void createOrder(Long productId) {
        // C'est aussi simple qu'un appel de méthode local !
        ProductDTO product = productServiceClient.findProductById(productId);
        // ... logique de création de commande ...
        System.out.println(&quot;Produit récupéré : &quot; + product.getName());
    }

}

</div><p id="myyc8a_103">C'est sur cette approche que nous allons nous concentrer, car elle simplifie &eacute;norm&eacute;ment le code, le rend plus lisible et s'int&egrave;gre parfaitement avec les autres composants de Spring Cloud que nous allons voir, comme la d&eacute;couverte de services.</p></div></div></section><section class="chapter"><h2 id="focus-sur-openfeign-la-magie-d-clarative" data-toc="focus-sur-openfeign-la-magie-d-clarative">Focus sur OpenFeign : La magie d&eacute;clarative</h2><p id="myyc8a_106">Reprenons l'exemple d'OpenFeign. Qu'est-ce qui se passe r&eacute;ellement ?</p><ol class="list _decimal" id="myyc8a_107" type="1"><li class="list__item" id="myyc8a_111"><p id="myyc8a_115"><span class="control" id="myyc8a_116">Vous d&eacute;clarez une interface (<code class="code" id="myyc8a_120">ProductServiceClient</code>) :</span> Vous d&eacute;crivez <span class="emphasis" id="myyc8a_117">ce que</span> vous voulez faire (&quot;je veux une m&eacute;thode qui fait un GET sur <code class="code" id="myyc8a_118">/api/products/{id}</code> &quot;), mais pas <span class="emphasis" id="myyc8a_119">comment</span> le faire.</p></li><li class="list__item" id="myyc8a_112"><p id="myyc8a_121"><span class="control" id="myyc8a_123">Vous annotez l'interface :</span></p><ul class="list _bullet" id="myyc8a_122"><li class="list__item" id="myyc8a_124"><p id="myyc8a_126"><code class="code" id="myyc8a_127">@FeignClient</code>: Indique &agrave; Spring Cloud que cette interface est un client Feign.</p></li><li class="list__item" id="myyc8a_125"><p id="myyc8a_128"><code class="code" id="myyc8a_129">@GetMapping</code>, <code class="code" id="myyc8a_130">@PostMapping</code>, etc. : Vous utilisez les m&ecirc;mes annotations que dans un <code class="code" id="myyc8a_131">@RestController</code>. C'est tr&egrave;s intuitif ! Les signatures des m&eacute;thodes doivent correspondre &agrave; celles des endpoints du service distant.</p></li></ul></li><li class="list__item" id="myyc8a_113"><p id="myyc8a_132"><span class="control" id="myyc8a_133">Spring Cloud fait le travail :</span> Au d&eacute;marrage de l'application, Spring Cloud d&eacute;tecte cette interface, et g&eacute;n&egrave;re dynamiquement une classe qui l'impl&eacute;mente. Cette classe contient tout le code <code class="code" id="myyc8a_134">RestTemplate</code> ou <code class="code" id="myyc8a_135">WebClient</code> n&eacute;cessaire pour effectuer les appels HTTP.</p></li><li class="list__item" id="myyc8a_114"><p id="myyc8a_136"><span class="control" id="myyc8a_137">Vous injectez et utilisez :</span> Vous pouvez alors injecter votre interface comme n'importe quel autre bean Spring et appeler ses m&eacute;thodes. La complexit&eacute; de l'appel HTTP est totalement masqu&eacute;e.</p></li></ol><style>.theme-dark .plantuml > svg {filter: hue-rotate(180deg) invert(0.9);}div.plantuml {overflow-x: auto;}</style><div class="plantuml"><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="749px" preserveAspectRatio="none" style="width:540px;height:749px;background:#FFFFFF;" version="1.1" viewBox="0 0 540 749" width="540px" zoomAndPan="magnify"><defs/><g><!--cluster order-service--><g id="cluster_order-service"><path d="M13.5,11 L119.5,11 A3.75,3.75 0 0 1 122,13.5 L129,34.0146 L530.5,34.0146 A2.5,2.5 0 0 1 533,36.5146 L533,577.93 A2.5,2.5 0 0 1 530.5,580.43 L13.5,580.43 A2.5,2.5 0 0 1 11,577.93 L11,13.5 A2.5,2.5 0 0 1 13.5,11 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="11" x2="129" y1="34.0146" y2="34.0146"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="105" x="15" y="27.0752">order-service</text></g><!--cluster product-service--><g id="cluster_product-service"><path d="M94.5,629.43 L218.5,629.43 A3.75,3.75 0 0 1 221,631.93 L228,652.4446 L387.5,652.4446 A2.5,2.5 0 0 1 390,654.9446 L390,739.94 A2.5,2.5 0 0 1 387.5,742.44 L94.5,742.44 A2.5,2.5 0 0 1 92,739.94 L92,631.93 A2.5,2.5 0 0 1 94.5,629.43 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="92" x2="228" y1="652.4446" y2="652.4446"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="123" x="96" y="645.5052">product-service</text></g><!--class OrderManagementService--><g id="elem_OrderManagementService"><rect codeLine="9" fill="#FFFFFF" height="61.0146" id="OrderManagementService" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="326" x="33" y="185.01"/><ellipse cx="101.25" cy="199.01" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"/><path d="M104.2231,204.6531 Q103.6421,204.9519 103.0029,205.1013 Q102.3638,205.2507 101.6582,205.2507 Q99.1514,205.2507 97.8315,203.5989 Q96.5117,201.947 96.5117,198.8259 Q96.5117,195.6965 97.8315,194.0447 Q99.1514,192.3928 101.6582,192.3928 Q102.3638,192.3928 103.0112,192.5422 Q103.6587,192.6916 104.2231,192.9905 L104.2231,195.7131 Q103.5923,195.1321 102.9988,194.8623 Q102.4053,194.5925 101.7744,194.5925 Q100.4297,194.5925 99.7449,195.6592 Q99.0601,196.7258 99.0601,198.8259 Q99.0601,200.9177 99.7449,201.9844 Q100.4297,203.051 101.7744,203.051 Q102.4053,203.051 102.9988,202.7812 Q103.5923,202.5115 104.2231,201.9304 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="182" x="118.75" y="204.5779">OrderManagementService</text><line style="stroke:#000000;stroke-width:1.0;" x1="34" x2="358" y1="213.01" y2="213.01"/><rect fill="none" height="6" style="stroke:#000000;stroke-width:1.0;" width="6" x="41" y="224.0173"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="302" x="51" y="231.0852">productServiceClient: ProductServiceClient</text><line style="stroke:#000000;stroke-width:1.0;" x1="34" x2="358" y1="238.0246" y2="238.0246"/></g><!--class ProductServiceClient--><g id="elem_ProductServiceClient"><rect codeLine="13" fill="#FFFFFF" height="61.0146" id="ProductServiceClient" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="302" x="127" y="47"/><ellipse cx="201.75" cy="61" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"/><path d="M197.6777,56.7651 L197.6777,54.6069 L205.0571,54.6069 L205.0571,56.7651 L202.5918,56.7651 L202.5918,64.8418 L205.0571,64.8418 L205.0571,67 L197.6777,67 L197.6777,64.8418 L200.1431,64.8418 L200.1431,56.7651 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="145" x="219.25" y="66.5679">ProductServiceClient</text><line style="stroke:#000000;stroke-width:1.0;" x1="128" x2="428" y1="75" y2="75"/><line style="stroke:#000000;stroke-width:1.0;" x1="128" x2="428" y1="83" y2="83"/><ellipse cx="138" cy="97.0073" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="278" x="145" y="101.0752">findProductById(id: Long): ProductDTO</text></g><!--entity FeignProxy--><g id="elem_FeignProxy"><ellipse cx="205" cy="332.03" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="118" x="146" y="363.1052">Proxy OpenFeign</text></g><g id="elem_GMN9"><path d="M27,402.03 L27,459.4279 A0,0 0 0 0 27,459.4279 L169,459.4279 A0,0 0 0 0 169,459.4279 L169,412.03 L159,402.03 L132.98,402.03 L195.88,341.27 L124.98,402.03 L27,402.03 A0,0 0 0 0 27,402.03 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><path d="M159,402.03 L159,412.03 L169,412.03 L159,402.03 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="102" x="33" y="420.0998">Classe g&#233;n&#233;r&#233;e</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="121" x="33" y="435.8991">au d&#233;marrage par</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="85" x="33" y="451.6985">Spring Cloud</text></g><!--class HttpLogic--><g id="elem_HttpLogic"><rect codeLine="26" fill="#FFFFFF" height="44" id="HttpLogic" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="152" x="165" y="520.43"/><ellipse cx="178" cy="534.43" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"/><path d="M180.9731,540.0731 Q180.3921,540.3719 179.7529,540.5213 Q179.1138,540.6707 178.4082,540.6707 Q175.9014,540.6707 174.5815,539.0189 Q173.2617,537.367 173.2617,534.2459 Q173.2617,531.1165 174.5815,529.4647 Q175.9014,527.8128 178.4082,527.8128 Q179.1138,527.8128 179.7612,527.9622 Q180.4087,528.1116 180.9731,528.4105 L180.9731,531.1331 Q180.3423,530.5521 179.7488,530.2823 Q179.1553,530.0125 178.5244,530.0125 Q177.1797,530.0125 176.4949,531.0792 Q175.8101,532.1458 175.8101,534.2459 Q175.8101,536.3377 176.4949,537.4044 Q177.1797,538.471 178.5244,538.471 Q179.1553,538.471 179.7488,538.2012 Q180.3423,537.9315 180.9731,537.3504 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="124" x="190" y="539.9979">HTTP Client Logic</text><line style="stroke:#000000;stroke-width:1.0;" x1="166" x2="316" y1="548.43" y2="548.43"/><line style="stroke:#000000;stroke-width:1.0;" x1="166" x2="316" y1="556.43" y2="556.43"/></g><!--class ProductController--><g id="elem_ProductController"><rect codeLine="31" fill="#FFFFFF" height="61.0146" id="ProductController" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="267" x="107.5" y="665.43"/><ellipse cx="176.25" cy="679.43" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"/><path d="M179.2231,685.0731 Q178.6421,685.3719 178.0029,685.5213 Q177.3638,685.6707 176.6582,685.6707 Q174.1514,685.6707 172.8315,684.0189 Q171.5117,682.367 171.5117,679.2459 Q171.5117,676.1165 172.8315,674.4647 Q174.1514,672.8128 176.6582,672.8128 Q177.3638,672.8128 178.0112,672.9622 Q178.6587,673.1116 179.2231,673.4105 L179.2231,676.1331 Q178.5923,675.5521 177.9988,675.2823 Q177.4053,675.0125 176.7744,675.0125 Q175.4297,675.0125 174.7449,676.0792 Q174.0601,677.1458 174.0601,679.2459 Q174.0601,681.3377 174.7449,682.4044 Q175.4297,683.471 176.7744,683.471 Q177.4053,683.471 177.9988,683.2012 Q178.5923,682.9315 179.2231,682.3504 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="122" x="193.75" y="684.9979">ProductController</text><line style="stroke:#000000;stroke-width:1.0;" x1="108.5" x2="373.5" y1="693.43" y2="693.43"/><line style="stroke:#000000;stroke-width:1.0;" x1="108.5" x2="373.5" y1="701.43" y2="701.43"/><ellipse cx="118.5" cy="715.4373" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="243" x="125.5" y="719.5052">getProductById(id: Long): Product</text></g><!--link ProductServiceClient to OrderManagementService--><g id="link_ProductServiceClient_OrderManagementService"><path codeLine="16" d="M260,108.35 C246.33,131.03 230.7076,156.9415 217.0476,179.6015 " fill="none" id="ProductServiceClient-to-OrderManagementService" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="213.95,184.74,222.0222,179.0973,216.5314,180.4579,215.1708,174.9671,213.95,184.74" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="105" x="242.91" y="152.0798">est inject&#233; dans</text></g><!--reverse link ProductServiceClient to FeignProxy--><g id="link_ProductServiceClient_FeignProxy"><path codeLine="19" d="M340.1564,119.1637 C351.4064,127.7537 348.33,126.92 357,138.01 C400.45,193.57 435.6,238.39 391,293.03 C368.18,320.98 248.28,328.92 214.1,330.63 " fill="none" id="ProductServiceClient-backto-FeignProxy" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="325.85,108.24,336.5151,123.9325,343.7976,114.3949,325.85,108.24" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="79" x="412.67" y="221.0898">impl&#233;mente</text></g><!--reverse link FeignProxy to HttpLogic--><g id="link_FeignProxy_HttpLogic"><path codeLine="27" d="M208.4989,353.2755 C213.6989,383.4355 229.48,474.74 237.29,519.93 " fill="none" id="FeignProxy-backto-HttpLogic" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="none" points="206.46,341.45,203.5376,348.0424,208.4989,353.2755,211.4213,346.6831,206.46,341.45" style="stroke:#000000;stroke-width:1.0;"/></g><!--link FeignProxy to HttpLogic--><g id="link_FeignProxy_HttpLogic"><path codeLine="37" d="M208.77,341.4 C212.15,349.04 217.17,360.69 221,371.03 C239.56,421.06 237.96,436.15 241,489.43 C241.58,499.52 241.7137,504.7403 241.6137,514.1603 " fill="none" id="FeignProxy-to-HttpLogic" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="241.55,520.16,245.6453,511.203,241.6031,515.1603,237.6458,511.118,241.55,520.16" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="239" x="240.39" y="436.2998">Construit et envoie la requ&#234;te HTTP</text></g><!--link OrderManagementService to FeignProxy--><g id="link_OrderManagementService_FeignProxy"><path codeLine="36" d="M198.34,246.31 C200.34,271.75 202.6226,300.7082 203.8626,316.5782 " fill="none" id="OrderManagementService-to-FeignProxy" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="204.33,322.56,207.6168,313.2758,203.9405,317.5752,199.6411,313.8989,204.33,322.56" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="179" x="202.83" y="290.0998">Appelle findProductById(5)</text></g><!--link HttpLogic to ProductController--><g id="link_HttpLogic_ProductController"><path codeLine="38" d="M241,564.81 C241,590.99 241,629.49 241,659.05 " fill="none" id="HttpLogic-to-ProductController" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="241,665.05,245,656.05,241,660.05,237,656.05,241,665.05" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="134" x="242" y="610.4998">GET /api/products/5</text></g><!--SRC=[VLF1Rjim3BthApZlqc1mSWXwyI70ccNhW0ufqFo0PZ6QLbdI9BbOiUs3lD_mZurIjDPhtHc6RP6FV2GV_If-mGx1QQuC2xVAEEvv1nxRo8tK23yOq7LXlK2_jTfwUBrUhqz6tjvARtiZYcEtsx5VZ3coSubGvQ0weBzJBLObLQjv2B1Fha_S4Av34szEc099LmtEMz6tVrrRhGZNmFMCDGSHSNef4z4VEUMQGqu8ti1H6L505_SVnPaI3LnP8nSFBEyE-v8xFMSJBfURbvffeC8GgQAlDCrn0C5Dg4vLdYsWedJVxs7lqBn79Kq5F43-oeuCUpp2idVBdvlv6eX8TKwFGsB7AeSQ6n4-snXj1_RuD370Dic08CV1Z8CV1onsteEWHDpx925jGx7VEA-Cf33RYsn28p89cwXQNHuErr2gkh9IjRchonXTFZrjojRrn3bTdIB-_FAK8MojYTvgZVuVMIN6_wjQ92Mw5uIhwysqoWRUEeV4ysnZpXTiWgjJt4Cx54O5XkXx5G7fDdTM8MXEFzUtVlnDygHfiSU0j4hFMslWm-u0A-xKgWmbhCxP7m00]--></g></svg></div><aside class="prompt" data-type="warning" data-title="" id="myyc8a_109"><p><b id="myyc8a_138">DTO (Data Transfer Object) : Un point crucial</b> Quand <code class="code" id="myyc8a_139">order-service</code> re&ccedil;oit la r&eacute;ponse de <code class="code" id="myyc8a_140">product-service</code>, il doit la &quot;d&eacute;s&eacute;rialiser&quot; (transformer le JSON en objet Java). Pour cela, il a besoin d'une classe miroir. </p><p id="myyc8a_141">On ne va pas copier/coller l'entit&eacute; JPA <code class="code" id="myyc8a_142">Product</code> de <code class="code" id="myyc8a_143">product-service</code>, car cela cr&eacute;erait un couplage fort. &Agrave; la place, on cr&eacute;e une simple classe POJO (Plain Old Java Object) dans <code class="code" id="myyc8a_144">order-service</code>, appel&eacute;e <b id="myyc8a_145">DTO (Data Transfer Object)</b>. Cette classe, que l'on pourrait nommer <code class="code" id="myyc8a_146">ProductDTO</code>, ne contient que les champs qui nous int&eacute;ressent. C'est une bonne pratique qui permet de d&eacute;coupler les mod&egrave;les internes des services.</p></aside></section><section class="chapter"><h2 id="conclusion-de-la-partie" data-toc="conclusion-de-la-partie">Conclusion de la partie</h2><p id="myyc8a_147">Vous avez maintenant une compr&eacute;hension claire des enjeux de la communication entre microservices. Vous savez qu'il existe des approches <span class="control" id="myyc8a_152">synchrones</span> et <span class="control" id="myyc8a_153">asynchrones</span>, et que pour la communication synchrone, l'appel <span class="control" id="myyc8a_154">HTTP/REST</span> est roi.</p><p id="myyc8a_148">Plus important encore, vous avez d&eacute;couvert <span class="control" id="myyc8a_155">OpenFeign</span>, notre outil de pr&eacute;dilection pour r&eacute;aliser ces appels. Vous avez vu comment son approche <span class="control" id="myyc8a_156">d&eacute;clarative</span> nous permet d'abstraire la complexit&eacute; des clients HTTP et de transformer un appel r&eacute;seau distant en un simple appel de m&eacute;thode Java. C'est un gain immense en termes de lisibilit&eacute; et de maintenabilit&eacute; du code.</p><p id="myyc8a_149">Nous avons identifi&eacute; le prochain probl&egrave;me &agrave; r&eacute;soudre : comment se d&eacute;barrasser des URLs en dur (<code class="code" id="myyc8a_157">url = &quot;http://localhost:8081&quot;</code>) dans notre annotation <code class="code" id="myyc8a_158">@FeignClient</code>? Comment faire pour que nos services se trouvent dynamiquement sur le r&eacute;seau ? Ce sera l'objet du prochain module, o&ugrave; nous introduirons un composant central de notre architecture : l'annuaire de services, <span class="control" id="myyc8a_159">Eureka</span>.</p><p id="myyc8a_150"><span class="emphasis" id="myyc8a_160">Note : Cette partie &eacute;tant principalement th&eacute;orique, elle ne contient pas d'exercice. Les exercices pratiques sur OpenFeign arriveront dans le TP 4, une fois que nous aurons mis en place la d&eacute;couverte de services.</span></p></section><section class="chapter"><h2 id="auto-valuation" data-toc="auto-valuation">Auto-&eacute;valuation</h2><p id="myyc8a_161">Prenez un moment pour r&eacute;pondre &agrave; ces questions. Les corrections se trouvent &agrave; la toute fin du support de cours.</p><ol class="list _decimal" id="myyc8a_162" type="1"><li class="list__item" id="myyc8a_163"><p id="myyc8a_168"><span class="control" id="myyc8a_169">(Question ouverte)</span> Expliquez avec vos propres mots la diff&eacute;rence entre une communication synchrone et asynchrone, en utilisant une analogie de votre choix (autre que le t&eacute;l&eacute;phone/courrier).</p></li><li class="list__item" id="myyc8a_164"><p id="myyc8a_170"><span class="control" id="myyc8a_172">(QCM)</span> Pourquoi est-il d&eacute;conseill&eacute; d'utiliser des URL en dur dans le code pour les appels inter-services ?</p><ul class="list _bullet" id="myyc8a_171"><li class="list__item" id="myyc8a_173"><p id="myyc8a_177">A) Parce que les URL sont trop longues.</p></li><li class="list__item" id="myyc8a_174"><p id="myyc8a_178">B) Parce que cela rend le code moins performant.</p></li><li class="list__item" id="myyc8a_175"><p id="myyc8a_179">C) Parce que les adresses IP et les ports des services peuvent changer et qu'on ne peut pas g&eacute;rer la scalabilit&eacute;.</p></li><li class="list__item" id="myyc8a_176"><p id="myyc8a_180">D) Parce que OpenFeign ne fonctionne pas avec des URL.</p></li></ul></li><li class="list__item" id="myyc8a_165"><p id="myyc8a_181"><span class="control" id="myyc8a_183">(QCM)</span> Quel outil est aujourd'hui consid&eacute;r&eacute; comme l'approche &quot;moderne&quot; et recommand&eacute;e par Spring pour faire des appels HTTP, notamment dans un contexte r&eacute;actif ?</p><ul class="list _bullet" id="myyc8a_182"><li class="list__item" id="myyc8a_184"><p id="myyc8a_188">A) <code class="code" id="myyc8a_189">RestTemplate</code></p></li><li class="list__item" id="myyc8a_185"><p id="myyc8a_190">B) <code class="code" id="myyc8a_191">HttpClient</code></p></li><li class="list__item" id="myyc8a_186"><p id="myyc8a_192">C) <code class="code" id="myyc8a_193">WebClient</code></p></li><li class="list__item" id="myyc8a_187"><p id="myyc8a_194">D) <code class="code" id="myyc8a_195">Socket</code></p></li></ul></li><li class="list__item" id="myyc8a_166"><p id="myyc8a_196"><span class="control" id="myyc8a_197">(Question ouverte)</span> Qu'est-ce qu'une &quot;approche d&eacute;clarative&quot; dans le contexte d'OpenFeign ? Qu'est-ce que l'on d&eacute;clare ?</p></li><li class="list__item" id="myyc8a_167"><p id="myyc8a_198"><span class="control" id="myyc8a_200">(QCM)</span> Lorsque <code class="code" id="myyc8a_201">order-service</code> appelle <code class="code" id="myyc8a_202">product-service</code> via un client Feign, dans quel projet doit se trouver l'interface annot&eacute;e avec <code class="code" id="myyc8a_203">@FeignClient</code>?</p><ul class="list _bullet" id="myyc8a_199"><li class="list__item" id="myyc8a_204"><p id="myyc8a_208">A) Dans <code class="code" id="myyc8a_209">product-service</code>.</p></li><li class="list__item" id="myyc8a_205"><p id="myyc8a_210">B) Dans <code class="code" id="myyc8a_211">order-service</code>.</p></li><li class="list__item" id="myyc8a_206"><p id="myyc8a_212">C) Dans un projet partag&eacute; entre les deux.</p></li><li class="list__item" id="myyc8a_207"><p id="myyc8a_213">D) Dans le projet du serveur de configuration.</p></li></ul></li></ol></section><div class="last-modified">23 juillet 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="002-01-tp-1.html" class="navigation-links__prev">TP 1 : Mettre notre service en bo&icirc;te : la Dockerisation</a><a href="004-00-service-discovery.html" class="navigation-links__next">Module 4 : La D&eacute;couverte de Services - Qui est o&ugrave; ? (L'essentiel)</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>